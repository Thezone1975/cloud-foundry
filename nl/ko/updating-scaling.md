---

copyright:

  years: 2018
lastupdated: "2018-11-14"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}

# 업데이트 및 스케일링
{: #update-scale}

{{site.data.keyword.cfee_full_notm}} 서비스 인스턴스를 최신 버전으로 업데이트하여 최신 CFEE 기능 및 수정사항을 가져오십시오. ICDEE에 대한 업데이트에는 새 버전의 Cloud Foundry 플랫폼과 CFEE 인프라를 지원하는 Kubernetes 클러스터가 포함될 수 있습니다. 

CFEE 버전 업데이트는 CFEE 컴포넌트를 포함하는 제어 플레인 및 셀에서 진행됩니다. 또한 애플리케이션 셀을 추가하거나 삭제하여 CFEE 인스턴스의 용량을 스케일링할 수도 있습니다. 

**참고:** 버전을 업데이트하는 동안 또는 셀이 추가되거나 삭제되는 동안, _개요_, _리소스 사용량_ 및 _업데이트 및 스케일링_ 페이지에 표시되는 일부 메트릭(메모리 및 CPU)을 사용하지 못할 수 있습니다. 

## CFEE 버전 업데이트
{: #update}

CFEE 인스턴스를 새 버전으로 업데이트할 수 있으려면 사용자에게 다음 권한이 필요합니다.
   * CFEE 인스턴스에 대한 _편집자_ 역할 이상
   * CFEE가 프로비저닝되는 Kubernetes 클러스터에 대한 _운영자_ 역할 이상

CFEE 인스턴스의 CFEE 버전 업데이트는 2단계 프로세스입니다. 먼저, CFEE 컴포넌트를 호스팅하는 제어 플레인을 업데이트합니다. 그런 다음 애플리케이션을 호스팅하는 셀을 업데이트합니다. 

CFEE를 새 버전으로 업데이트하는 경우 다음 규칙 및 제한조건이 적용됩니다.
* 먼저 제어 플레인을 업데이트해야 합니다. 제어 플레인이 업데이트되면 셀을 업데이트할 수 있습니다.
* 애플리케이션 셀은 제어 플레인의 버전으로만 업데이트할 수 있습니다. 즉, 제어 플레인 셀은 애플리케이션 셀보다 상위의 CFEE 버전 레벨일 수 있지만, 반대의 경우는 허용되지 않습니다.

CFEE 인스턴스의 CFEE 버전을 업데이트하려면 다음을 수행하십시오.
1. [{{site.data.keyword.Bluemix_notm}} 대시보드](https://console.bluemix.net/dashboard/apps/)로 이동한 후 업데이트할 {{site.data.keyword.cfee_full_notm}}를 여십시오.
2. {{site.data.keyword.cfee_full_notm}}에서, 탐색 분할창에 있는 **셀** 항목으로 이동하여 셀 페이지를 여십시오.
3. (선택사항) _제어 플레인_ 테이블에서, 행을 펼쳐서 제어 플레인에 있는 작업자 노드를 표시할 수 있습니다.
4. **업데이트**를 클릭하십시오.
5. 업데이트 _제어 플레인_ 대화 상자에서, 사용 가능한 CFEE 버전 중 하나를 선택하고 **업데이트**를 클릭하십시오. 업데이트에는 약 5분이 소요됩니다. 버전 설명에는 선택한 CFEE 버전 패키지에 포함된 컴포넌트의 버전에 대한 자세한 설명이 포함되어 있으며, 해당 버전에 제공되는 컨텐츠에 대해 설명하는 _새로운 기능_ 문서로의 링크가 포함되어 있습니다. 
6. _노드 상태_ 열은 업데이트의 진행상태를 표시합니다. 업데이트가 완료되고 나면, _버전_ 열에 새 CFEE 버전이 표시됩니다. 
7. 제어 플레인 셀의 업데이트가 완료되면, _셀_ 테이블을 찾아서 **업데이트**를 클릭하십시오.
8. _업데이트 제어 플레인_ 대화 상자에서 CFEE 버전을 선택하고 *업데이트*를 클릭하십시오. 셀은 제어 플레인의 버전으로만 업데이트할 수 있으므로 셀에 대해 업데이트할 수 있는 버전만 있습니다. 단일 업데이트 조치로 모든 셀을 업데이트합니다.
9. 셀은 순차적으로 업데이트됩니다. _노드 상태_ 열은 각 셀에 대한 업데이트 진행상태를 표시합니다. 셀이 업데이트되면, 해당하는 새 버전이 _버전_ 열에 반영됩니다. 

## 버전 업데이트 동안 중단 발생
{: #update-disruption}

Cloud Foundry 제어 플레인 업데이트는 중단되지 않습니다. 그러나 Cloud Foundry 셀을 새 CFEE 버전으로 업데이트하는 경우 CFEE 환경의 오퍼레이션이 중단될 수 있습니다. 업데이트는 한 번에 하나의 셀에 대해 수행되므로, 다른 셀이 업데이트 중에 중단되어 있는 동안 해당 셀의 업데이트가 완료되면 셀에서 실행 중인 애플리케이션 인스턴스는 다시 가동됩니다. 그럼에도 불구하고, CFEE에서 실행 중인 일부 애플리케이션 및 서비스는 일부 환경에서 사용 불가능하게 될 수 있습니다. 예를 들어, CFEE에 전체 용량인 두 개의 Cloud Foundry 셀이 있는 경우, 애플리케이션 인스턴스는 셀이 업데이트되는 동안 다른 셀로 이동할 수 없으므로 하나의 인스턴스만 있는 애플리케이션은 버전 업데이트 동안 중단됩니다. 따라서 애플리케이션을 사용할 수 없습니다.    

버전 업데이트 동안 (Kubernetes 클러스터에 의해 생성되는) CFEE _개요_ 페이지에 표시되는 셀 노드 게이지에서 보고된 메모리 및 CPU 메트릭과 (운영 체제 레벨을 생성하는) Grafana의 _노드_ 대시보드에 표시되는 동일한 메트릭이 일치하지 않을 수 있습니다. 

업데이트가 진행 중인 동안의 CFEE 컴포넌트 상태는 상태 확인 페이지에 표시됩니다. 다시 시작하는 데는 약 45분이 소요됩니다.

## 버전 주기 및 지원 정책
{: #version-cycle}

일반적으로 Cloud Foundry Enterprise Environment 서비스는 정기적으로 새 버전을 릴리스합니다. 서비스의 버전은 시맨틱 버전화 형식 _**Major.Minor.Patch**_를 따릅니다(https://semver.org/).

_부_ 버전은 정기적으로 증가합니다(보통 매월). _주_ 버전도 증가하지만 일반적으로 중요한 변경사항이 있는 경우 새 버전이 릴리스되며 자주 릴리스되지는 않습니다. _주_ 버전으로 업데이트하면 업그레이드 중에 일부 중단이 발생할 수 있습니다. _패치_는 수정사항을 제공하며 사용 가능한 최신 버전에 적용됩니다.  

시스템 중단을 방지하기 위해, CFEE 인스턴스는 현재 버전보다 최대 두 버전 높은 _주_ 버전으로만 업데이트할 수 있습니다. 이전 예를 사용하면 CFEE 인스턴스 현재 버전이 3.1.2이고 대상 버전이 7.0.0인 경우, CFEE 인스턴스를 먼저 버전 5.x.x로 업데이트한 후 대상 버전인 7.0.0으로 업데이트해야 합니다.

정기적으로 제공되는 기존 기능에 대한 개선사항 및 새 기능은 최신 버전에서만 사용 가능합니다. 중요한 수정사항은 최신 3개 _주_ 버전(최신 버전 및 두 개 이전 버전) 내에서만 최신 릴리스에 제공됩니다. 예를 들어, 버전 4.x.x, 3.x.x 및 2.x.x가 사용 가능한 경우, 버전 1.x.x는 지원되지 않습니다(즉, 패치는 버전 1.x.x에 대한 수정사항과 함께 제공되지 않음).  

패치는 지정된 _주_ 버전의 사용 가능한 최신 버전에 제공됩니다. 예를 들어, CFEE 인스턴스가 버전 3.1.2에서 실행 중인데 3.x.x _주_ 버전에서 사용 가능한 최신 버전이 3.3.4인 경우, 패치는 버전 3.3.x의 코드 베이스로 제공되며 이는 패치가 (새) 버전 3.3.5에 제공됨을 의미합니다. 새 패치를 받으려면 버전 3.1.2의 CFEE 인스턴스를 3.3.5로 업데이트해야 합니다(즉, 버전 3.3.4로 업데이트하면 버전 3.3.5에만 제공되는 패치의 수정된 문제점은 해결되지 않음). 

## CFEE 인프라 스케일링
{: #scale}

Cloud Foundry 셀을 CFEE 인스턴스에 추가하거나 제거할 수 있으려면 사용자에게 다음 권한이 필요합니다.
* CFEE 인스턴스에 대한 _관리자_ 역할 이상
* CFEE가 프로비저닝되는 Kubernetes 클러스터에 대한 _운영자_ 역할 이상

CFEE 인스턴스에 애플리케이션 셀을 추가하려면 다음을 수행하십시오.
1. [{{site.data.keyword.Bluemix_notm}} 대시보드](https://console.bluemix.net/dashboard/apps/)로 이동한 후 셀을 추가할 {{site.data.keyword.cfee_full_notm}}를 여십시오.
2. _셀_ 테이블 옆의 **셀 추가**를 클릭하면 _Cloud Foundry 셀 추가_ 페이지가 열립니다.
3. _Cloud Foundry 셀 추가_ 페이지에서 추가할 셀의 수를 선택하십시오. 페이지에는 셀이 추가될 CFEE 인스턴스의 지역 및 위치도 표시됩니다. 또한 현재 셀의 수와 추가될 셀의 용량(현재 셀의 용량과 동일함)도 표시됩니다. 페이지의 오른쪽 분할창에는 추가된 셀의 예상 비용 및 새로운 총 환경 예상 비용이 표시됩니다. 
4. **셀 추가**를 클릭하십시오.  
5. _노드 페이지로 이동하십시오. 각각의 새 노드에 대한 _셀_ 테이블에 새 행이 추가됩니다. _노드 상태_ 열은 CFEE 환경에 셀 추가 및 배치의 진행상태를 표시합니다.
