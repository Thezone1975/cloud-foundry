---

copyright:
  years: 2018
lastupdated: "2018-04-18"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}

# サービス・インスタンスの作成および表示
{: #creating-services}

{{site.data.keyword.cfee_full_notm}} にデプロイされているアプリケーションは、以下の 2 つのタイプのサービス・インスタンスにバインドできます。
1. ローカル Cloud Foundry サービス・ブローカー (CFEE に対してローカル) によって管理されているサービス・インスタンス。これは、以下の 2 つのタイプのいずれかです。
   *  1a. 現在の {{site.data.keyword.cfee_full_notm}} インスタンスの Cloud Foundry マーケットプレイスから作成されたサービス・オファリングのインスタンス。このタイプのサービス・インスタンスでは、環境内で使用可能な登録されたサービス・ブローカーが必要です。サービス・ブローカーにより、サービス・オファリングおよびプランのカタログが示されるとともに、該当するサービス・オファリングからのインスタンスを作成、削除、バインド、およびアンバインドできます。詳しくは、Cloud Foundry 資料の『[Managing Service Brokers](https://docs.cloudfoundry.org/services/managing-service-brokers.html)』を参照してください。
   * 1b. ユーザー提供のサービス・インスタンス。このタイプの作成は、CLI でサポートされますが、ユーザー・インターフェースではサポートされません。それにもかかわらず、ユーザー提供のサービス・インスタンスは、ユーザー・インターフェースにリストされます。
2. {{site.data.keyword.Bluemix}} カタログから作成され、{{site.data.keyword.Bluemix}} アカウントで使用可能なパブリック・サービス・インスタンス。
{{site.data.keyword.Bluemix}} アカウントで使用可能なパブリック・サービス・インスタンスは、それだけでは、CFEE 環境で使用できません。({{site.data.keyword.Bluemix}} アカウントで使用可能な) パブリック・サービス・インスタンスを CFEE 環境内のスペースで使用できるようにするには、ターゲット CFEE スペースでサービス・インスタンスの別名を作成する必要があります。別名は、実際のパブリック・サービス・インスタンスへの参照として機能します。CFEE スペースでサービスの別名を作成すると、当該 CFEE でその別名をアプリケーションにバインドできます。サービスの別名を作成することで、開発者は、CFEE 環境にデプロイされているアプリケーションで、{{site.data.keyword.Bluemix}} サービスの膨大なカタログを利用できます。


## CFEE スペースでのサービス別名の作成および表示
{: #creating-services_inspace}

IBM Cloud アカウントで使用可能な既存のパブリック・サービス・インスタンスの別名を使用して、CFEE スペースにデプロイされているアプリケーションにそのサービス・インスタンスをバインドできます。既存の {{site.data.keyword.Bluemix_notm}} サービス・インスタンスの別名を作成するには、そのインスタンス自体に対するユーザー・アクセス権限が必要です。詳しくは、{{site.data.keyword.Bluemix_notm}} ヘッダーの**「管理」>「ユーザー」** メニューにある「ID およびアクセス」ページを参照して、現在のアカウント・アクセス・ポリシーを確認してください。

CFEE のスペース内にサービス・インスタンスの別名を作成するには、以下のようにします。

1. {{site.data.keyword.Bluemix_notm}} ダッシュボードで、アプリケーションをホストしている Cloud Foundry Enterprise Environment を見つけます。
2. ナビゲーション・ペインで**「組織」**に移動し、アプリケーションがある組織およびスペースを開きます。
3. **「スペース」**タブに移動し、アプリケーションが含まれているスペースを見つけます。
4. ターゲット・スペース・ページで、**「サービス」**タブに移動し、**「サービスの作成」**をクリックします。これにより、{{site.data.keyword.cfee_full_notm}} の**「カタログ」**ページが開きます。このページでは、以下の 2 つのソースからのサービス・オファリングがリストされます (「_ソース (Source)_」列を参照)。
   * IBM Cloud カタログからのオファリング。
   * ローカル {{site.data.keyword.cfee_full_notm}} マーケットプレイスからのオファリング。
5. 使用可能なサービス・オファリングからインスタンスを生成するものを見つけて選択します。
6. サービス・オファリングのソース (IBM Cloud またはローカル CFEE) に応じて、以下のいずれかに進みます。
   * IBM Cloud サービス・オファリング作成ページに**進み**、新規サービス・インスタンスの名前、地域、プラン、および IBM Cloud でサービスを作成するために必要なその他のプロパティーを指定します。「*作成*」をクリックすると、サービス・インスタンスが IBM Cloud で作成されます。さらに、そのサービス・インスタンスの別名が {{site.data.keyword.cfee_full_notm}} で作成されます。この別名は、{{site.data.keyword.cfee_full_notm}} 内のアプリケーションにバインドするために使用できます。
   **注:** この方法で {{site.data.keyword.Bluemix_notm}} を作成すると、IBM Cloud アカウントでユーザーに使用可能なパブリック・インスタンスが作成されるだけでなく、そのサービス・インスタンスの別名が作成元の {{site.data.keyword.cfee_full_notm}} で作成されます。
   * ローカル Cloud Foundry マーケットプレイスでサービス・インスタンスを**作成**します。これにより、ダイアログが開き、そこで新規サービス・インスタンスの名前およびプランを指定します。「*作成*」をクリックすると、サービス・インスタンスが {{site.data.keyword.cfee_full_notm}} で作成され、{{site.data.keyword.cfee_full_notm}} 内のアプリケーションにバインドするために使用できるようになります。

サービス・インスタンスの作成後、サービス・インスタンス (ローカル Cloud Foundry マーケットプレイスで作成された場合) または別名 (サービス・インスタンスが IBM Cloud カタログから作成された場合) が**「サービス」**タブにリストされます。


## グローバル Cloud Foundry ダッシュボードでのすべての CFEE 環境のサービス別名の作成および表示
{: #creating-services_across}

グローバル Cloud Foundry ダッシュボードで (すべての CFEE インスタンスの) すべてのサービス・インスタンス別名の統合ビューを表示できます。

1. メニュー・アイコン ![アカウント検査](img/HamburgerMenu.png "メニュー・アイコンを示す画面キャプチャー")>**「Cloud Foundry」**をクリックして、Cloud Foundry ダッシュボードを開きます。
2. 左ナビゲーション・ペインで**「エンタープライズ (Enterprise)」>「サービス」**をクリックします。
ビュー内の表では、以下の情報が示されます。

|要素 | 説明        |
|-----------|---------------|
| サービス別名 | サービス・インスタンス別名の名前。|
| サービス・インスタンス | 別名作成元のパブリック IBM Cloud サービス・インスタンス。|
| オファリング | サービス・インスタンスの作成元の IBM Cloud カタログからのサービス・オファリング。|
| CFEE | 別名が存在している {{site.data.keyword.cfee_full}}。|
| 組織 | 別名が存在している CFEE インスタンスの組織。|
| スペース | 別名が存在している CFEE インスタンスの組織内のスペース。|
{:caption="表 1. 主な要素の説明" caption-side="top"}

このビューでは、以下のアクションを実行できます。
* 表列として表示されている任意のプロパティーで表内の項目をソートする。
* 行の右端にある別名の別名オーバーフロー・メニューにアクセスして、アプリケーションを特定の別名にバインドする。
* 別名 (行) を展開して、その別名にバインドされたすべてのアプリケーションを表示する。
* 行の右端にある別名のアプリケーション・オーバーフロー・メニューにアクセスして、アプリケーションを開始/停止する。
* 対応する CFEE、組織、またはスペースへのリンクをクリックして、CFEE、CFEE 組織、または CFEE スペースにナビゲートする。

グローバル Cloud Foundry ダッシュボードからサービス別名を作成するには、以下のようにします。
1. ページの上部にある**「サービス別名の作成 (Create service alias)」**ボタンをクリックします。これにより、_「サービス別名の作成 (Create Service Alias)」_ダイアログが開きます。このダイアログでは、現在の IBM Cloud アカウントで使用可能なすべてのパブリック・サービス・インスタンスがリストされます。
2. パブリック・サービス・インスタンスの 1 つを選択します。
3. **「作成」**をクリックします。作成すると、新規サービス・インスタンス別名がリストに追加されます。
サービス別名は、CFEE スペース内のサービスのリストにも表示されます。そこで、そのスペース内のアプリケーションにサービス別名をバインドできます (「CFEE」>「組織」>「スペース」>「サービス」)。


