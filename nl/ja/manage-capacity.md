---

copyright:
  years: 2018
lastupdated: "2018-08-15"

---

{:shortdesc: .shortdesc}
{:new_window: target="_blank"}
{:codeblock: .codeblock}
{:pre: .pre}
{:screen: .screen}
{:tip: .tip}

# リソース使用量

管理者および開発者は、CFEE のリソース・キャパシティー (メモリーおよび CPU) がアプリケーションおよびセルでどのように使用されているのかを確認できます。 CFEE 環境のリソース使用量をモニターするには、以下のようにします。

1. [{{site.data.keyword.Bluemix_notm}} Cloud Foundry 環境ダッシュボード](https://console.bluemix.net/dashboard/cloudfoundry?filter=cf_environments)に移動し、リソース使用量を管理する {{site.data.keyword.cfee_full_notm}} を開きます。
2. {{site.data.keyword.cfee_full_notm}} ユーザー・インターフェースで、左ナビゲーション・ペインの**「リソース使用量」**項目に移動し、「_リソース使用量_」ページを開きます。 「_リソース使用量_」ページで、「_アプリケーション_」または「_セル (Cells)_」サブ項目に移動して、対応するページを開くことができます。  「_アプリケーション_」および「_セル (Cells)_」ページに表示される情報は、以下のようにリソース使用量を分割する 2 つの方法と見なすことができます。
   * **「アプリケーション」**ページでは、複数のインスタンスで集約されたアプリケーション別のリソース使用量が分析されます。
   * **「セル (Cells)」**ページでは、特定のセルで実行されているアプリケーション・インスタンスのリソース使用量が示されます。 複数のセルでのリソース使用量のパターンから、キャパシティーおよび負荷分散に関する洞察が得られることがあります。  例えば、アプリケーションのロード・バランシングの問題 (例えば、セル間で、アプリケーションで使用されているリソースが大きく異なる場合) や、全体のキャパシティーに近づいているリソース使用量 (つまり、すべてのセルでリソース使用量の割合が高い場合) を特定するのに役立つことがあります。

**注:** リソース使用量データは、最新 5 分間の収集サイクルにおけるリソースの使用量を表します。 リソース使用量データは、ページ上部にある**「データの最新表示 (Refresh data)」**をクリックすることで最新表示できます。

## アプリケーション
{: #usage_apps}

「アプリケーション」ページには、以下の 2 つのセクションがあります。
1. 物理メモリーおよび予約済みメモリーの使用量を示す水平棒グラフ。
   * 下の表の**選択されたアプリ**によって使用されている物理メモリーおよび予約済みメモリー。
   * CFEE インスタンス内の**すべてのアプリ**によって使用されている物理メモリーおよび予約済みメモリー。
   * **システム**によって使用されている物理メモリー。これには、Cloud Foundry 制御プレーンによって使用されているメモリーと、Cloud Foundry 制御プレーンによってキャッシュされているアプリケーション・メモリーが含まれます。
   * CFEE インスタンス内の物理メモリーおよび予約済みメモリーの**合計使用可能**量。
   
   **注:** 物理的に使用可能な量より多いメモリーをアプリケーションが予約している場合、予約済みメモリーを示す棒グラフでは、選択されたアプリケーションによって超過予約されているメモリー量が赤い点線で示されます。

   すべてのアプリまたは表で選択されたアプリで使用されているメモリーおよび CPU のパーセンテージを表示するには、グラフの対応する部分の上にカーソルを移動します。  グラフの*すべてのアプリ* 部分の上にカーソルを移動すると、合計使用可能量に対するメモリーおよび CPU のパーセンテージが表示されます。 グラフの「*選択されたアプリ (selected apps)*」部分の上にカーソルを移動すると、合計使用可能メモリーまたは CPU に対するメモリーおよび CPU のパーセンテージが表示されます。

2. すべてのアプリケーションをリストした表。  表内の各行には、該当するアプリケーションのリソース情報が表示されます。  行を展開すると、該当するアプリケーションの各種インスタンスのリソース使用量情報が示されます。

  表内の最初の列は、ページの上部のグラフに含まれる「*選択されたアプリ (Selected Apps)*」のセットに、対応するアプリケーションが含まれるかどうかを判別するチェック・ボックスです。 選択されたセットでアプリケーションを含めるか除外するには、対応するチェック・ボックスをクリックします。  セットに含めるためにアプリケーションが選択されるか、選択解除されると、グラフが最新表示されます。  棒グラフの右にある「_選択されたアプリ (Selected Apps)_」の凡例では、グラフに含めるように現在選択されているアプリケーションの数が (括弧で囲んで) 示されます。

  以下の情報が、アプリケーション表内の列として表示されます。
   * **アプリケーション名 (Application Name)**: アプリケーションまたはアプリケーション・インスタンスの名前。 ユーザーがアプリケーションにアクセスする許可を備えていない場合、代わりにアプリケーションの GUID が表示されます。
   * **インスタンス**: アプリケーションの場合、実行中のインスタンスの数を表します。  (アプリケーション行を展開したときにアプリケーション名の下に表示される) アプリケーション・インスタンスの場合、アプリケーション・インスタンスが実行されるセルの名前を表します。
   * **合計物理メモリー (Total Memory-Physical)**: アプリケーションのすべてのインスタンスで使用されている物理メモリーの MB。  アプリケーションで使用されている物理メモリーは、アプリケーションのすべてのインスタンスで使用されている物理メモリーの合計と同じです。
   * **合計予約済みメモリー (Total Memory-Reserved)**: アプリケーションのすべてのインスタンスで予約されているメモリーの MB。  アプリケーションで予約されている物理メモリーは、アプリケーションのすべてのインスタンスで予約されているメモリーの合計と同じです。
   * **平均 CPU (セルの %) (Average CPU (% of cell))**: アプリケーション・インスタンスの場合、このメトリックは、**実行されるセル内の**平均 CPU を表します。  アプリケーションの場合、インスタンス平均全体で平均化された CPU 使用量を表します。
   * **最大 CPU (セルの %) (Max CPU (% of cell))**: アプリケーション・インスタンスの場合、このメトリックは、**実行されるセル内の**当該インスタンスによって使用されている最大 CPU を表します。  アプリケーションの場合、インスタンスの最大 CPU 使用量の最大を表します。
   * **CPU (システムの %) (CPU (% of system))**: アプリケーションおよびそのインスタンスによって使用されている、CFEE で使用可能な合計 CPU に対するパーセンテージ。  アプリケーションで使用されている CPU は、アプリケーションのすべてのインスタンスで使用されている CPU パーセンテージの合計と同じです。
   * **要求**: 最新のデータ収集サイクル (5 分) におけるアプリケーションへの要求の数。
   * **組織**: アプリケーションがデプロイされている組織。 ユーザーが組織のメンバーでない場合、代わりに組織の GUID が表示されます。

表内のアプリケーション行を展開すると、アプリケーション・インスタンスおよび対応するリソース使用量メトリックのリストが表示されます。

### アプリケーションのフィルタリング
表の上にある**「アプリケーション」**および**「組織」**フィルター・ドロップダウンを使用して、表の内容をフィルタリングできます。

また、表の上にあるフィルター入力フィールドを使用して、フィルター・フィールドに入力したストリングに一致するアプリケーションのみを表示できます。  フィルターは、表とその上のグラフの両方で反映されます。

**注:** フィルターは、上のグラフに含まれる「_選択されたアプリ (Selected Apps)_」のセットに含めるように (表の最初の列にあるチェック・ボックスで) 選択された表の行とは独立して機能します。 例えば、CFEE 環境内に合計 10 個のアプリケーションがあり、そのうち 5 つがグラフに含めるように選択されている場合、1 つのアプリケーション・インスタンスにのみ一致するフィルターを適用すると、そのアプリケーション・インスタンスのみが表に表示されます。  さらに、「_選択されたアプリ (Selected Apps)_」のセットに、その一致するアプリケーションのみが含まれるようになり、それに従ってグラフが最新表示されます。  フィルターを削除すると、表に 10 個すべてのアプリケーションが再び表示されるようになり、「_選択されたアプリ (Selected Apps)_」のセットはすべてのアプリを含むようにリセットされます。


## セル (Cells)
{: #usage_cells}

「セル (Cells)」ページには、以下の 2 つのセクションがあります。
1. 垂直棒グラフ。以下の内容が示されます。
   * CFEE インスタンスで使用可能な「*合計使用可能 (Total available)*」メモリーおよび CPU。
   * CFEE インスタンス内の「**選択されたアプリ・インスタンス (Selected app instances)**」で使用されているメモリーおよび CPU。
   * CFEE インスタンス内の「**すべてのアプリ・インスタンス (All app instances)**」で使用されているメモリーおよび CPU。
   * 下の表で「**システム**」によって使用されているメモリーおよび CPU。  システムの使用量は、CFEE サービス構成要素とアプリケーション・キャッシュで使用されているリソースを表します。
   * セル内で使用可能な合計メモリーおよび CPU。**「合計セル」**は、Kubernetes ワーカー・ノード (セルがプロビジョンされている場所) 内の使用可能な合計量 (メモリーまたは CPU) から、システムによる使用量を引いたものに等しくなります。

   すべてのアプリ・インスタンスまたは表で選択されたアプリ・インスタンスで使用されているメモリーおよび CPU のパーセンテージを表示するには、グラフの対応する部分の上にカーソルを移動します。  グラフのバーの上にカーソルを移動すると、使用可能な絶対メモリーまたは CPU、すべてのアプリで使用されているメモリーまたは CPU、およびシステムとキャッシュで使用されているメモリーまたは CPU が示されます。  また、使用可能な合計量を基準とした、すべてのアプリおよびシステムとキャッシュで使用されているメモリーまたは CPU のパーセンテージも示されます。

2. すべてのセルおよびそこで実行されているアプリケーション・インスタンスをリストした表。  表内の各行には、該当するセルおよびアプリケーション・インスタンスのリソース情報が表示されます。

  表内の最初の列は、ページの上部のグラフに含まれる「*選択されたアプリ・インスタンス (Selected App instances)*」のセットに、対応するアプリケーション・インスタンスが含まれるかどうかを判別するチェック・ボックスです。 選択されたセットでアプリケーション・インスタンスを含めるか除外するには、対応するチェック・ボックスをクリックします。  セットに含めるためにアプリケーション・インスタンスが選択されるか、選択解除されると、グラフが最新表示されます。

  以下の情報が、表内の列として表示されます。
   * **セル名 (Cell name)**: セルの名前。
   * **アプリケーション名 (Application name)**: セルで実行されているアプリケーションの名前。 ユーザーがアプリケーションにアクセスする許可を備えていない場合、代わりにアプリケーションの GUID が表示されます。
   * **インスタンス**: セルで実行されているアプリケーション・インスタンスの数。
   * **物理メモリー (Memory-Physical)**: セルで実行されているアプリケーション・インスタンスによって使用されている物理メモリーの MB。
   * **予約済みメモリー (Memory-Reserved)**: セルで実行されているアプリケーション・インスタンスによって予約されているメモリーの MB。
   * **CPU (% )**: セルで実行されているアプリケーション・インスタンスによって使用されている、CFEE で使用可能な合計 CPU に対するパーセンテージ。

### セルおよびアプリ・インスタンスのフィルタリング
表の上にある**「セル (Cells)」**フィルター・ドロップダウンを使用し、表に表示するセルを選択することで、表の内容をフィルタリングできます。

また、表の上にあるフィルター入力フィールドを使用して、フィルター・フィールドに入力したストリングに一致するアプリケーション・インスタンスのみを表示できます。  フィルターは、表とその上のグラフの両方で反映されます。

**注:** フィルターは、上のグラフに含まれる「_選択されたアプリ・インスタンス (Selected App Instances)_」のセットに含めるように (表の最初の列にあるチェック・ボックスで) 選択された表の行とは独立して機能します。 例えば、CFEE 環境内に合計 10 個のアプリケーション・インスタンスがあり、そのうち 5 つがグラフに含めるように選択されている場合、1 つのアプリケーション・インスタンスにのみ一致するフィルターを適用すると、そのアプリケーション・インスタンスのみが表に表示されます。  さらに、「_選択されたアプリ・インスタンス (Selected App Instances)_」のセットに、そのアプリ・インスタンスのみが含まれるようになり、それに従ってグラフが最新表示されます。  フィルターを削除すると、表に 10 個すべてのアプリケーション・インスタンスが再び表示されるようになり、「_選択されたアプリ・インスタンス (Selected App Instances)_」のセットはすべてのアプリ・インスタンスを含むようにリセットされます。
